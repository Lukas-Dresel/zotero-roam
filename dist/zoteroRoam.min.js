/* zotero-roam 2021-03-05 */

(()=>{window.zoteroRoam={Shortcut:function(e){for(k in this.action=e.action,this.template={altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1},this.watcher={altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1},e.template)this.template[`${k}`]=e.template[`${k}`],this.watcher[`${k}`]=!1;Object.keys(this.template).every(e=>!1===this.template[e])&&(this.template={})},autoComplete:null,config:{autoComplete:{data:{src:async function(){return 0==zoteroRoam.data.items.length?[]:zoteroRoam.handlers.simplifyDataArray(zoteroRoam.data.items)},key:["title","authorsLastNames","year","tagsString"],cache:!1,results:e=>{return Array.from(new Set(e.map(e=>e.index))).map(t=>e.find(e=>e.index===t))}},selector:"#zotero-search-autocomplete",searchEngine:"strict",trigger:{event:["input","focus"]},highlight:!0,maxResults:20,sort:(e,t)=>e.value.authors.toLowerCase()<t.value.authors.toLowerCase()?-1:e.value.authors.toLowerCase()>t.value.authors.toLowerCase()?1:0,resultsList:{className:"zotero-search-results-list",idName:"zotero-search-results-list",container:e=>{e.classList.add("bp3-menu")}},resultItem:{element:"li",className:"zotero-search_result",idName:"zotero-search_result",content:(e,t)=>{var a,o=`<span class="bp3-menu-item-label zotero-search-item-key">${e.value.key}</span>`,s=`<span class="zotero-search-item-metadata"> ${e.value.meta}</span>`,r=`<span class="zotero-search-item-title" style="font-weight:bold;color:black;display:block;">${"title"==e.key?e.match:e.value.title}</span>`;let i="";e.value.year&&(a="year"==e.key?e.match:e.value.year,i=`<span class="zotero-search-item-year"> (${a})</span>`);let l="";e.value.authors&&(l="authorsLastNames"==e.key?`<span class="zotero-search-item-authors autoComplete_highlighted">${e.value.authors}</span>`:`<span class="zotero-search-item-authors">${e.value.authors}</span>`);let n="";e.value.tagsString&&(a="tagsString"==e.key?e.match:e.value.tagsString,n=`<span class="zotero-search-item-tags" style="font-style:italic;color:#c1c0c0;display:block;">${a}</span>`),t.innerHTML=`<a label="${e.value.key}" class="bp3-menu-item bp3-popover-dismiss">
                                            <div class="bp3-text-overflow-ellipsis bp3-fill zotero-search-item-contents">
                                            ${r}
                                            ${l}${i}${s}
                                            ${n}
                                            </div>
                                            ${o}
                                            </a>`}},noResults:(e,t)=>{t(zoteroRoam.autoComplete,e,e.results);const a=document.createElement("li");a.setAttribute("class","no_result"),a.setAttribute("tabindex","1"),a.innerHTML=`<span style="display: flex; align-items: center; font-weight: 100; color: rgba(0,0,0,.2);">Found No Results for "${e.query}"</span>`,document.querySelector(`#${zoteroRoam.autoComplete.resultsList.idName}`).appendChild(a)},onSelection:e=>{zoteroRoam.interface.search.quickCopyToggle.checked?(zoteroRoam.interface.search.input.blur(),zoteroRoam.interface.search.input.value="@"+e.selection.value.key,zoteroRoam.interface.search.input.select(),document.execCommand("copy"),zoteroRoam.interface.toggleSearchOverlay("hide")):(zoteroRoam.interface.search.input.blur(),zoteroRoam.interface.renderSelectedItem(e))}},requests:{},shortcuts:[],userSettings:{}},data:{items:[],collections:[]},funcmap:{DEFAULT:"zoteroRoam.formatting.getItemMetadata"},typemap:{artwork:"Illustration",audioRecording:"Recording",bill:"Legislation",blogPost:"Blog post",book:"Book",bookSection:"Chapter",case:"Legal case",computerProgram:"Data",conferencePaper:"Conference paper",document:"Document",email:"Letter",encyclopediaArticle:"Encyclopaedia article",film:"Film",forumPost:"Forum post",hearing:"Hearing",instantMessage:"Instant message",interview:"Interview",journalArticle:"Article",letter:"Letter",magazineArticle:"Magazine article",manuscript:"Manuscript",map:"Image",newspaperArticle:"Newspaper article",patent:"Patent",podcast:"Podcast",presentation:"Presentation",radioBroadcast:"Radio broadcast",report:"Report",statute:"Legislation",thesis:"Thesis",tvBroadcast:"TV broadcast",videoRecording:"Recording",webpage:"Webpage"},addAutoCompleteCSS(){let e=document.createElement("style");e.textContent=`ul#zotero-search-results-list::before{content:attr(aria-label);}
                                            li.autoComplete_selected{background-color:#e7f3f7;}
                                            span.autoComplete_highlighted{color:#146cb7;}
                                            .selected-item-header, .selected-item-body{display:flex;justify-content:space-around;}
                                            .item-basic-metadata, .item-additional-metadata{flex: 0 1 60%;}
                                            .item-citekey, .item-actions{flex:0 1 30%;}
                                            .item-citekey{margin:10px 0px;}
                                            .item-citekey input.bp3-input[readonly]{box-shadow:none;font-weight:bold;}`,document.head.append(e)}};var e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@8.3.2/dist/js/autoComplete.js",e.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(e)})();