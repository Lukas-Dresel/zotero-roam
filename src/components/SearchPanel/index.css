#zotero-roam-search-autocomplete {
    box-shadow: none;
    font-size: 13px;
}
#zotero-roam-search-autocomplete::placeholder {opacity:0.6;}
#zotero-roam-search-autocomplete:focus {box-shadow:none;}
#zotero-roam-search-autocomplete {
    border-bottom-width: 1px;
    border-bottom-color: #f2f2f2;
    border-bottom-style: solid;
    color: #717171;
}

label.zr-quick-copy {
    font-weight: 300;
    font-size: 12px;
    margin-bottom: 0px;
}

/* QueryList */

.zr-dialog-overlay--search-library .zr-querylist .bp3-input-group .bp3-input-left-container > * {
    margin-right: 10px;
}

.zr-dialog-overlay--search-library .zr-querylist .bp3-input-group .bp3-input-action {
    display: flex;
    align-items: center;
}

#zotero-roam-library-rendered .bp3-menu {
    max-height: 70vh;
    overflow-y: scroll;
    background: unset;
    padding: 0px;
}

#zotero-roam-library-rendered .bp3-menu::-webkit-scrollbar {
  width: 0px;
}

.zr-dialog-overlay--search-library .zotero-roam-search_result {
    padding: 3px 10px;
    font-size: 0.9em;
}

.zr-dialog-overlay--search-library .zr-library-item--contents {
    white-space: normal;
}

.zr-dialog-overlay--search-library .zotero-roam-search_result .zr-library-item--key {
    flex: 0 0 auto;
    padding: 0px 6px;
    font-size: 0.8em;
    text-align: right;
}

.zr-dialog-overlay--search-library .zotero-roam-search_result[data-in-graph="true"] .zr-library-item--key {
    background-color: #d6ffe1;
    color: #429965;
    font-weight: 500;
    border-radius: 3px;
}

/* SelectedItem */

#zotero-roam-search-selected-item {
    width: 97%;
    margin: 20px auto;
    max-height: 70vh;
    overflow-y: scroll;
}

.selected-item-header, 
.selected-item-body{ display:flex;justify-content:space-around; }
.selected-item-body{ flex-wrap:wrap; }

.item-basic-metadata, 
.item-additional-metadata{ flex: 0 1 60%;padding: 20px;background:#f5f8fa;}
.item-basic-metadata{ padding-top:10px; }
.item-additional-metadata{ padding-top:0px; }

h4.item-title{
    margin-bottom:5px;
}

.item-citekey-section, 
.item-actions{
    flex:0 1 33%;
}

.item-abstract{
    padding:15px;
    border-top: 1px #e6e6e6 solid;
    border-bottom: 1px #e6e6e6 solid;
}

.item-additional-metadata p strong ~ span {
    margin:3px;
}

.item-pdf-notes, 
.item-actions-additional{
    margin-top: 25px;
}

.item-actions-additional{
    flex: 0 1 95%;
}

.item-actions > .bp3-card{ background-color: #eff8ff;box-shadow:none; }

.item-citekey-section .bp3-button-group .bp3-button,
.item-actions .bp3-button-group .bp3-button {
    flex: 0 1 auto;
}

.item-actions .bp3-button.item-pdf-link {font-weight: 600;}

.item-citekey-section{
    margin:10px 0px;
    overflow-wrap:break-word;
}

.item-citekey-section .bp3-icon{
    margin-right:10px;
}

.item-citekey-section .citekey-element{
    padding:6px 10px;
    display:flex;
    align-items:center;
    overflow-wrap:anywhere;
}

.item-rendered-notes p{
    font-weight:350;
}

/* To prevent weird resizing of flex container on smaller displays */
.item-weblink {
    overflow-wrap: anywhere;
}
/**/

/* SMALLER DISPLAYS */

.roam-body.mobile + #zotero-roam-portal .zr-quick-copy{ display:none; }

@media (max-width:900px){
    .selected-item-header{flex-direction:column-reverse;}
    .selected-item-body{flex-direction:column;}
}

@media (max-width:600px){
    #zotero-roam-search-selected-item .item-citekey-section{margin:0px 0px;}
    #zotero-roam-search-selected-item .selected-item-header .copy-buttons{display:none;}
    #zotero-roam-search-selected-item .selected-item-header{flex-direction:column-reverse;}
    #zotero-roam-search-selected-item .selected-item-body{flex-direction:column;}
}

/* DARK THEMES */

.bp3-dark #zotero-roam-search-autocomplete {
    background: var(--zr-dark-dialog-bg, #242424);
    border-bottom-color: var(--zr-dark-border-color,#363a3f);
}

.bp3-dark .zr-dialog-overlay--search-library .zotero-roam-search_result[data-in-graph="true"] .zr-library-item--key {
    background-color: var(--zr-dark-positive-bc, #5863582e);
    color: var(--zr-dark-positive-co, #86f686);
}

.bp3-dark .zr-dialog-overlay--search-library .zr-library-item--contents,
.bp3-dark .item-basic-metadata,
.bp3-dark .item-additional-metadata,
.bp3-dark .citekey-element,
.bp3-dark .item-actions .bp3-button-group button {
    color: var(--zr-dark-text-co, #76a0cb);
}

.bp3-dark .item-abstract{
    border-top-color: var(--zr-dark-border-color,#363a3f);
    border-bottom-color: var(--zr-dark-border-color,#363a3f);
}

.bp3-dark .copy-buttons > .bp3-button,
.bp3-dark .copy-buttons > .bp3-button:hover {
    border-color: var(--zr-dark-border-color,#363a3f);
}

.bp3-dark .item-basic-metadata,
.bp3-dark .item-additional-metadata,
.bp3-dark .item-actions > .bp3-card { 
    background-color:var(--zr-dark-elem-bg, #2B3143);
}

@media (prefers-color-scheme: dark){
    #zotero-roam-search-autocomplete {
        background: var(--zr-dark-dialog-bg, #242424);
        border-bottom-color: var(--zr-dark-border-color,#363a3f);
    }
    .zr-dialog-overlay--search-library .zotero-roam-search_result[data-in-graph="true"] .zr-library-item--key {
        background-color: var(--zr-dark-positive-bc, #5863582e);
        color: var(--zr-dark-positive-co, #86f686);
    }
    .zr-dialog-overlay--search-library .zr-library-item--contents,
    .item-basic-metadata,
    .item-additional-metadata,
    .citekey-element,
    .item-actions button[type="button"] {
        color: var(--zr-dark-text-co,#76a0cb);
    }
    .item-abstract {
        border-top-color: var(--zr-dark-border-color,#363a3f);
        border-bottom-color: var(--zr-dark-border-color,#363a3f);
    }
    .copy-buttons > .bp3-button,
    .copy-buttons > .bp3-button:hover {
        border-color: var(--zr-dark-border-color,#363a3f);
    }
    .item-basic-metadata,
    .item-additional-metadata,
    .item-actions > .bp3-card {
        background-color: var(--zr-dark-elem-bg, #2B3143);
    }
}
